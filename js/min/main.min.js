console.log("hello world");let newitem=document.getElementById("newitem"),button=document.querySelector(".header__button"),list=document.querySelector(".container__main-list"),header=document.querySelector(".container__header"),STORAGE_KEY="todo-items",THEME_KEY="theme";function loadListFromStorage(){try{var e=localStorage.getItem(STORAGE_KEY);return e?JSON.parse(e):[]}catch(e){return console.warn("Failed to parse items from storage:",e),[]}}function saveListToStorage(e){localStorage.setItem(STORAGE_KEY,JSON.stringify(e))}function applyTheme(e){document.documentElement.setAttribute("data-theme",e);try{localStorage.setItem(THEME_KEY,e)}catch(e){}}function getSavedTheme(){try{return localStorage.getItem(THEME_KEY)}catch(e){return null}}function getPreferredTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}let themeBtn=null;function updateThemeToggleLabel(e){themeBtn&&(themeBtn.textContent="dark"===e?"Light":"Dark",themeBtn.title="dark"===e?"Switch to light mode":"Switch to dark mode")}function toggleTheme(){var e="dark"===(document.documentElement.getAttribute("data-theme")||getPreferredTheme())?"light":"dark";applyTheme(e),updateThemeToggleLabel(e)}function initTheme(){var e=getSavedTheme()||getPreferredTheme();applyTheme(e),updateThemeToggleLabel(e)}function createListItem(e,t=null,a=!1){var n=document.createElement("li"),i=(n.classList.add("container__main-list-item"),t=t||`task-${Date.now()}-`+Math.floor(1e3*Math.random()),n.dataset.id=t,document.createElement("input")),a=(i.type="checkbox",i.id=t,i.classList.add("container__main-list-item-checkbox"),i.checked=Boolean(a),document.createElement("label")),t=(a.setAttribute("for",t),a.textContent=e,document.createElement("button"));return t.classList.add("container__main-list-item-btn"),t.textContent="delete",n.appendChild(i),n.appendChild(a),n.appendChild(t),n}function renderList(e){list.innerHTML="",e.forEach(({id:e,text:t,checked:a})=>{t=createListItem(t,e,a);list.appendChild(t)})}button.addEventListener("click",()=>{var e,t,a=newitem.value.trim();a&&(t=createListItem(a,e=`task-${Date.now()}-`+Math.floor(1e3*Math.random()),!1),list.appendChild(t),(t=loadListFromStorage()).push({id:e,text:a,checked:!1}),saveListToStorage(t),newitem.value="")}),newitem.addEventListener("keypress",e=>{var t,a;"Enter"===e.key&&(e=newitem.value.trim())&&(a=createListItem(e,t=`task-${Date.now()}-`+Math.floor(1e3*Math.random()),!1),list.appendChild(a),(a=loadListFromStorage()).push({id:t,text:e,checked:!1}),saveListToStorage(a),newitem.value="")});let clearbtn=document.querySelector(".container__main-titleBtn-btn");clearbtn.addEventListener("dblclick",()=>{list.innerHTML="",localStorage.removeItem(STORAGE_KEY)}),list.addEventListener("click",e=>{e=e.target;if(e&&e.classList.contains("container__main-list-item-btn")){e=e.closest(".container__main-list-item");if(e){let t=e.dataset.id;e.remove(),saveListToStorage(loadListFromStorage().filter(e=>e.id!==t))}}}),list.addEventListener("change",e=>{e=e.target;if(e&&e.classList.contains("container__main-list-item-checkbox")){var a=e.closest(".container__main-list-item");if(a){let t=a.dataset.id;var a=loadListFromStorage(),n=a.findIndex(e=>e.id===t);-1!==n&&(a[n].checked=e.checked,saveListToStorage(a))}}}),document.addEventListener("DOMContentLoaded",()=>{(themeBtn=document.getElementById("themeToggle"))&&themeBtn.addEventListener("click",toggleTheme),initTheme(),renderList(loadListFromStorage())});
//# sourceMappingURL=main.min.js.map

{"version":3,"file":"main.min.js","sources":["main.js"],"sourcesContent":["console.log(\"hello world\");\n\nconst newitem = document.getElementById(\"newitem\");\nconst button = document.querySelector(\".header__button\");\nconst list = document.querySelector(\".container__main-list\");\nconst header = document.querySelector(\".container__header\");\n\n// LocalStorage key\nconst STORAGE_KEY = \"todo-items\";\nconst THEME_KEY = \"theme\";\n\n// Storage helpers\nfunction loadListFromStorage() {\n    try {\n        const raw = localStorage.getItem(STORAGE_KEY);\n        return raw ? JSON.parse(raw) : [];\n    } catch (e) {\n        console.warn(\"Failed to parse items from storage:\", e);\n        return [];\n    }\n}\n\nfunction saveListToStorage(items) {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n\n// THEME: dark / light helpers\nfunction applyTheme(theme) {\n    document.documentElement.setAttribute(\"data-theme\", theme);\n    try { localStorage.setItem(THEME_KEY, theme); } catch (_) {}\n}\n\nfunction getSavedTheme() {\n    try { return localStorage.getItem(THEME_KEY); } catch (_) { return null; }\n}\n\nfunction getPreferredTheme() {\n    return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? 'dark'\n        : 'light';\n}\n\nlet themeBtn = null;\nfunction updateThemeToggleLabel(theme) {\n    if (themeBtn) {\n        themeBtn.textContent = theme === 'dark' ? 'Light' : 'Dark';\n        themeBtn.title = theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode';\n    }\n}\n\nfunction toggleTheme() {\n    const current = document.documentElement.getAttribute('data-theme') || getPreferredTheme();\n    const next = current === 'dark' ? 'light' : 'dark';\n    applyTheme(next);\n    updateThemeToggleLabel(next);\n}\n\nfunction initTheme() {\n    const saved = getSavedTheme();\n    const theme = saved || getPreferredTheme();\n    applyTheme(theme);\n    updateThemeToggleLabel(theme);\n}\n\n// Helper: create a full list item with checkbox, label, and delete button\nfunction createListItem(text, id = null, checked = false) {\n    const li = document.createElement(\"li\");\n    li.classList.add(\"container__main-list-item\");\n\n    // Create unique id for the checkbox/label pair\n    if (!id) {\n        id = `task-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n    }\n    li.dataset.id = id;\n\n    const checkbox = document.createElement(\"input\");\n    checkbox.type = \"checkbox\";\n    checkbox.id = id;\n    checkbox.classList.add(\"container__main-list-item-checkbox\");\n    checkbox.checked = Boolean(checked);\n\n    const label = document.createElement(\"label\");\n    label.setAttribute(\"for\", id);\n    label.textContent = text;\n\n    const delBtn = document.createElement(\"button\");\n    delBtn.classList.add(\"container__main-list-item-btn\");\n    delBtn.textContent = \"delete\";\n\n    li.appendChild(checkbox);\n    li.appendChild(label);\n    li.appendChild(delBtn);\n\n    return li;\n}\n\n// Render an array of items from storage\nfunction renderList(items) {\n    list.innerHTML = \"\";\n    items.forEach(({ id, text, checked }) => {\n        const li = createListItem(text, id, checked);\n        list.appendChild(li);\n    });\n}\n\nbutton.addEventListener(\"click\", () => {\n    const value = newitem.value.trim();\n    if (!value) return;\n    const id = `task-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n    const item = createListItem(value, id, false);\n    list.appendChild(item);\n\n    const items = loadListFromStorage();\n    items.push({ id, text: value, checked: false });\n    saveListToStorage(items);\n\n    newitem.value = \"\";\n});\n\nnewitem.addEventListener(\"keypress\", (e) => {\n    if (e.key === \"Enter\") {\n        const value = newitem.value.trim();\n        if (!value) return;\n        const id = `task-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n        const item = createListItem(value, id, false);\n        list.appendChild(item);\n\n        const items = loadListFromStorage();\n        items.push({ id, text: value, checked: false });\n        saveListToStorage(items);\n\n        newitem.value = \"\";\n    }\n});\n\nconst clearbtn = document.querySelector(\".container__main-titleBtn-btn\");\nclearbtn.addEventListener(\"dblclick\", () => {\n    list.innerHTML = \"\";\n    localStorage.removeItem(STORAGE_KEY);\n});\n \n// Event delegation for delete buttons (works for current and future items)\nlist.addEventListener(\"click\", (e) => {\n    const target = e.target;\n    if (target && target.classList.contains(\"container__main-list-item-btn\")) {\n        const li = target.closest(\".container__main-list-item\");\n        if (li) {\n            const id = li.dataset.id;\n            li.remove();\n            const items = loadListFromStorage();\n            const next = items.filter((it) => it.id !== id);\n            saveListToStorage(next);\n        }\n    }\n});\n\n// Event delegation for checkbox toggle -> persist checked state\nlist.addEventListener(\"change\", (e) => {\n    const target = e.target;\n    if (target && target.classList.contains(\"container__main-list-item-checkbox\")) {\n        const li = target.closest(\".container__main-list-item\");\n        if (!li) return;\n        const id = li.dataset.id;\n        const items = loadListFromStorage();\n        const idx = items.findIndex((it) => it.id === id);\n        if (idx !== -1) {\n            items[idx].checked = target.checked;\n            saveListToStorage(items);\n        }\n    }\n});\n\n// Initial render from storage\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    // Setup theme toggle button\n    themeBtn = document.getElementById('themeToggle');\n    if (themeBtn) {\n        themeBtn.addEventListener('click', toggleTheme);\n    }\n    // Initialize theme (saved or system preference)\n    initTheme();\n\n    // Render saved to-do items\n    const items = loadListFromStorage();\n    renderList(items);\n});\n    "],"names":["console","log","newitem","document","getElementById","button","querySelector","list","header","STORAGE_KEY","THEME_KEY","loadListFromStorage","raw","localStorage","getItem","JSON","parse","e","warn","saveListToStorage","items","setItem","stringify","applyTheme","theme","documentElement","setAttribute","_","getSavedTheme","getPreferredTheme","window","matchMedia","matches","let","themeBtn","updateThemeToggleLabel","textContent","title","toggleTheme","next","getAttribute","initTheme","createListItem","text","id","checked","li","createElement","checkbox","classList","add","Date","now","Math","floor","random","dataset","label","type","Boolean","delBtn","appendChild","renderList","innerHTML","forEach","addEventListener","value","trim","item","push","key","clearbtn","removeItem","target","contains","closest","remove","filter","it","idx","findIndex"],"mappings":"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"}